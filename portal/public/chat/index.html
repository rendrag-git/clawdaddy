<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#f97316">
  <title>ClawDaddy Chat</title>
  <link rel="manifest" href="/portal/manifest.webmanifest">
  <link rel="apple-touch-icon" href="/portal/logo.svg">
  <link rel="stylesheet" href="/portal/chat/chat.css">
</head>
<body>
  <div id="app" class="app-shell" aria-live="polite">
    <aside id="sidebar" class="sidebar" aria-label="Channels">
      <div class="sidebar-header">
        <div class="brand">ClawDaddy <span aria-hidden="true">ðŸ¦ž</span></div>
        <div id="bot-name" class="bot-name">Loading...</div>
      </div>
      <div class="sidebar-section-label">Channels</div>
      <nav id="channel-list" class="channel-list" aria-label="Agent channels"></nav>
    </aside>

    <div id="drawer-scrim" class="drawer-scrim" hidden></div>

    <main class="chat-main" role="main">
      <header class="chat-header">
        <button id="menu-btn" class="icon-btn" type="button" aria-label="Open channel drawer">â˜°</button>
        <div class="chat-header-meta">
          <div id="active-channel-name" class="active-channel-name">Loading...</div>
          <div id="active-channel-subtitle" class="active-channel-subtitle">Connecting...</div>
        </div>
        <button id="install-btn" class="install-btn" type="button" hidden>Install</button>
      </header>

      <div class="thread-bar">
        <label for="thread-select" class="thread-label">Thread</label>
        <select id="thread-select" class="thread-select" aria-label="Conversation thread"></select>
        <button id="new-thread-btn" class="new-thread-btn" type="button">New</button>
      </div>

      <div id="offline-banner" class="offline-banner" hidden>
        Offline mode: cached content is available, but sending messages requires connection.
      </div>

      <section id="message-list" class="message-list" aria-label="Conversation messages"></section>

      <div id="typing-indicator" class="typing-indicator" hidden>
        <span class="typing-label">Typing</span>
        <span class="typing-dot"></span>
        <span class="typing-dot"></span>
        <span class="typing-dot"></span>
      </div>

      <form id="composer" class="composer" autocomplete="off">
        <textarea
          id="message-input"
          class="message-input"
          rows="1"
          placeholder="Message your assistant..."
          aria-label="Message input"
          required
        ></textarea>
        <button id="send-btn" class="send-btn" type="submit">Send</button>
      </form>
    </main>
  </div>

  <script src="/portal/chat/chat.js" defer></script>
</body>
</html>
